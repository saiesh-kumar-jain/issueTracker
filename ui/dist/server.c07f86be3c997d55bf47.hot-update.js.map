{"version":3,"sources":["webpack:///./src/IssueDetail.jsx","webpack:///./src/IssueList.jsx","webpack:///./src/IssueTable.jsx"],"names":["IssueDetail","issue","description","SECTION_SIZE","PageLink","params","page","activePage","children","set","React","cloneElement","disabled","search","toString","IssueList","Component","fetchData","match","showError","URLSearchParams","vars","hasSelection","selectedId","get","status","effortMin","parseInt","Number","isNaN","effortMax","id","idInt","query","data","graphQLFetch","constructor","initialData","store","issueList","issues","pages","selectedIssue","state","closeIssue","bind","deleteIssue","componentDidMount","loadData","componentDidUpdate","prevProps","location","prevSearch","prevId","props","setState","index","prevState","newList","issueUpdate","pathname","history","showSuccess","issueDelete","push","splice","render","startPage","Math","floor","endPage","prevSection","nextSection","items","i","min","IssueListWithToast","withToast","IssueRow","withRouter","selectLocation","editTooltip","closeTooltip","deleteTooltip","onClose","e","preventDefault","onDelete","tableRow","owner","created","toDateString","effort","due","title","IssueTable","issueRows","map"],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEe,SAASA,WAAT,CAAqB;AAAEC;AAAF,CAArB,EAAgC;AAC7C,MAAIA,KAAJ,EAAW;AACT,wBACE,qFACE,qFADF,eAEE,wEAAMA,KAAK,CAACC,WAAZ,CAFF,CADF;AAMD;;AACD,SAAO,IAAP;AACD,C;;;;;;;;;;;;ACdD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAMC,YAAY,GAAG,CAArB;;AAEA,SAASC,QAAT,CAAkB;AAChBC,QADgB;AACRC,MADQ;AACFC,YADE;AACUC;AADV,CAAlB,EAEG;AACDH,QAAM,CAACI,GAAP,CAAW,MAAX,EAAmBH,IAAnB;AACA,MAAIA,IAAI,KAAK,CAAb,EAAgB,oBAAOI,4CAAK,CAACC,YAAN,CAAmBH,QAAnB,EAA6B;AAAEI,YAAQ,EAAE;AAAZ,GAA7B,CAAP;AAChB,sBACE,2DAAC,oEAAD;AACE,YAAQ,EAAE,MAAMN,IAAI,KAAKC,UAD3B;AAEE,MAAE,EAAE;AAAEM,YAAM,EAAG,IAAGR,MAAM,CAACS,QAAP,EAAkB;AAAhC;AAFN,KAIGN,QAJH,CADF;AAQD;;AAED,MAAMO,SAAN,SAAwBL,4CAAK,CAACM,SAA9B,CAAwC;AACtC,eAAaC,SAAb,CAAuBC,KAAvB,EAA8BL,MAA9B,EAAsCM,SAAtC,EAAiD;AAC/C,UAAMd,MAAM,GAAG,IAAIe,wDAAJ,CAAoBP,MAApB,CAAf;AACA,UAAMQ,IAAI,GAAG;AAAEC,kBAAY,EAAE,KAAhB;AAAuBC,gBAAU,EAAE;AAAnC,KAAb;AACA,QAAIlB,MAAM,CAACmB,GAAP,CAAW,QAAX,CAAJ,EAA0BH,IAAI,CAACI,MAAL,GAAcpB,MAAM,CAACmB,GAAP,CAAW,QAAX,CAAd;AAE1B,UAAME,SAAS,GAAGC,QAAQ,CAACtB,MAAM,CAACmB,GAAP,CAAW,WAAX,CAAD,EAA0B,EAA1B,CAA1B;AACA,QAAI,CAACI,MAAM,CAACC,KAAP,CAAaH,SAAb,CAAL,EAA8BL,IAAI,CAACK,SAAL,GAAiBA,SAAjB;AAC9B,UAAMI,SAAS,GAAGH,QAAQ,CAACtB,MAAM,CAACmB,GAAP,CAAW,WAAX,CAAD,EAA0B,EAA1B,CAA1B;AACA,QAAI,CAACI,MAAM,CAACC,KAAP,CAAaC,SAAb,CAAL,EAA8BT,IAAI,CAACS,SAAL,GAAiBA,SAAjB;AAE9B,UAAM;AAAEzB,YAAM,EAAE;AAAE0B;AAAF;AAAV,QAAqBb,KAA3B;AACA,UAAMc,KAAK,GAAGL,QAAQ,CAACI,EAAD,EAAK,EAAL,CAAtB;;AACA,QAAI,CAACH,MAAM,CAACC,KAAP,CAAaG,KAAb,CAAL,EAA0B;AACxBX,UAAI,CAACC,YAAL,GAAoB,IAApB;AACAD,UAAI,CAACE,UAAL,GAAkBS,KAAlB;AACD;;AAED,QAAI1B,IAAI,GAAGqB,QAAQ,CAACtB,MAAM,CAACmB,GAAP,CAAW,MAAX,CAAD,EAAqB,EAArB,CAAnB;AACA,QAAII,MAAM,CAACC,KAAP,CAAavB,IAAb,CAAJ,EAAwBA,IAAI,GAAG,CAAP;AACxBe,QAAI,CAACf,IAAL,GAAYA,IAAZ;AAEA,UAAM2B,KAAK,GAAI;;;;;;;;;;;;;;;;;;;;;;;MAAf;AAyBA,UAAMC,IAAI,GAAG,MAAMC,gEAAY,CAACF,KAAD,EAAQZ,IAAR,EAAcF,SAAd,CAA/B;AACA,WAAOe,IAAP;AACD;;AAEDE,aAAW,GAAG;AACZ;AACA,UAAMC,WAAW,GAAGC,iDAAK,CAACD,WAAN,IAAqB;AAAEE,eAAS,EAAE;AAAb,KAAzC;AACA,UAAM;AACJA,eAAS,EAAE;AAAEC,cAAF;AAAUC;AAAV,OADP;AAC0BxC,WAAK,EAAEyC;AADjC,QAEFL,WAFJ;AAGA,WAAOC,iDAAK,CAACD,WAAb;AACA,SAAKM,KAAL,GAAa;AACXH,YADW;AAEXE,mBAFW;AAGXD;AAHW,KAAb;AAKA,SAAKG,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBD,IAAjB,CAAsB,IAAtB,CAAnB;AACD;;AAEDE,mBAAiB,GAAG;AAClB,UAAM;AAAEP;AAAF,QAAa,KAAKG,KAAxB;AACA,QAAIH,MAAM,IAAI,IAAd,EAAoB,KAAKQ,QAAL;AACrB;;AAEDC,oBAAkB,CAACC,SAAD,EAAY;AAC5B,UAAM;AACJC,cAAQ,EAAE;AAAEtC,cAAM,EAAEuC;AAAV,OADN;AAEJlC,WAAK,EAAE;AAAEb,cAAM,EAAE;AAAE0B,YAAE,EAAEsB;AAAN;AAAV;AAFH,QAGFH,SAHJ;AAIA,UAAM;AAAEC,cAAQ,EAAE;AAAEtC;AAAF,OAAZ;AAAwBK,WAAK,EAAE;AAAEb,cAAM,EAAE;AAAE0B;AAAF;AAAV;AAA/B,QAAsD,KAAKuB,KAAjE;;AACA,QAAIF,UAAU,KAAKvC,MAAf,IAAyBwC,MAAM,KAAKtB,EAAxC,EAA4C;AAC1C,WAAKiB,QAAL;AACD;AACF;;AAED,QAAMA,QAAN,GAAiB;AACf,UAAM;AAAEG,cAAQ,EAAE;AAAEtC;AAAF,OAAZ;AAAwBK,WAAxB;AAA+BC;AAA/B,QAA6C,KAAKmC,KAAxD;AACA,UAAMpB,IAAI,GAAG,MAAMnB,SAAS,CAACE,SAAV,CAAoBC,KAApB,EAA2BL,MAA3B,EAAmCM,SAAnC,CAAnB;;AACA,QAAIe,IAAJ,EAAU;AACR,WAAKqB,QAAL,CAAc;AACZf,cAAM,EAAEN,IAAI,CAACK,SAAL,CAAeC,MADX;AAEZE,qBAAa,EAAER,IAAI,CAACjC,KAFR;AAGZwC,aAAK,EAAEP,IAAI,CAACK,SAAL,CAAeE;AAHV,OAAd;AAKD;AACF;;AAED,QAAMG,UAAN,CAAiBY,KAAjB,EAAwB;AACtB,UAAMvB,KAAK,GAAI;;;;;MAAf;AAMA,UAAM;AAAEO;AAAF,QAAa,KAAKG,KAAxB;AACA,UAAM;AAAExB;AAAF,QAAgB,KAAKmC,KAA3B;AACA,UAAMpB,IAAI,GAAG,MAAMC,gEAAY,CAACF,KAAD,EAAQ;AAAEF,QAAE,EAAES,MAAM,CAACgB,KAAD,CAAN,CAAczB;AAApB,KAAR,EAC7BZ,SAD6B,CAA/B;;AAEA,QAAIe,IAAJ,EAAU;AACR,WAAKqB,QAAL,CAAeE,SAAD,IAAe;AAC3B,cAAMC,OAAO,GAAG,CAAC,GAAGD,SAAS,CAACjB,MAAd,CAAhB;AACAkB,eAAO,CAACF,KAAD,CAAP,GAAiBtB,IAAI,CAACyB,WAAtB;AACA,eAAO;AAAEnB,gBAAM,EAAEkB;AAAV,SAAP;AACD,OAJD;AAKD,KAND,MAMO;AACL,WAAKV,QAAL;AACD;AACF;;AAED,QAAMF,WAAN,CAAkBU,KAAlB,EAAyB;AACvB,UAAMvB,KAAK,GAAI;;MAAf;AAGA,UAAM;AAAEO;AAAF,QAAa,KAAKG,KAAxB;AACA,UAAM;AAAEQ,cAAQ,EAAE;AAAES,gBAAF;AAAY/C;AAAZ,OAAZ;AAAkCgD;AAAlC,QAA8C,KAAKP,KAAzD;AACA,UAAM;AAAEQ,iBAAF;AAAe3C;AAAf,QAA6B,KAAKmC,KAAxC;AACA,UAAM;AAAEvB;AAAF,QAASS,MAAM,CAACgB,KAAD,CAArB;AACA,UAAMtB,IAAI,GAAG,MAAMC,gEAAY,CAACF,KAAD,EAAQ;AAAEF;AAAF,KAAR,EAAgBZ,SAAhB,CAA/B;;AACA,QAAIe,IAAI,IAAIA,IAAI,CAAC6B,WAAjB,EAA8B;AAC5B,WAAKR,QAAL,CAAeE,SAAD,IAAe;AAC3B,cAAMC,OAAO,GAAG,CAAC,GAAGD,SAAS,CAACjB,MAAd,CAAhB;;AACA,YAAIoB,QAAQ,KAAM,WAAU7B,EAAG,EAA/B,EAAkC;AAChC8B,iBAAO,CAACG,IAAR,CAAa;AAAEJ,oBAAQ,EAAE,SAAZ;AAAuB/C;AAAvB,WAAb;AACD;;AACD6C,eAAO,CAACO,MAAR,CAAeT,KAAf,EAAsB,CAAtB;AACA,eAAO;AAAEhB,gBAAM,EAAEkB;AAAV,SAAP;AACD,OAPD;AAQAI,iBAAW,CAAE,iBAAgB/B,EAAG,gBAArB,CAAX;AACD,KAVD,MAUO;AACL,WAAKiB,QAAL;AACD;AACF;;AAGDkB,QAAM,GAAG;AACP,UAAM;AAAE1B;AAAF,QAAa,KAAKG,KAAxB;AACA,QAAIH,MAAM,IAAI,IAAd,EAAoB,OAAO,IAAP;AACpB,UAAM;AAAEE,mBAAF;AAAiBD;AAAjB,QAA2B,KAAKE,KAAtC;AACA,UAAM;AAAEQ,cAAQ,EAAE;AAAEtC;AAAF;AAAZ,QAA2B,KAAKyC,KAAtC;AACA,UAAMjD,MAAM,GAAG,IAAIe,wDAAJ,CAAoBP,MAApB,CAAf;AACA,QAAIP,IAAI,GAAGqB,QAAQ,CAACtB,MAAM,CAACmB,GAAP,CAAW,MAAX,CAAD,EAAqB,EAArB,CAAnB;AACA,QAAII,MAAM,CAACC,KAAP,CAAavB,IAAb,CAAJ,EAAwBA,IAAI,GAAG,CAAP;AACxB,UAAM6D,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAW,CAAC/D,IAAI,GAAG,CAAR,IAAaH,YAAxB,IAAwCA,YAAxC,GAAuD,CAAzE;AACA,UAAMmE,OAAO,GAAGH,SAAS,GAAGhE,YAAZ,GAA2B,CAA3C;AACA,UAAMoE,WAAW,GAAGJ,SAAS,KAAK,CAAd,GAAkB,CAAlB,GAAsBA,SAAS,GAAGhE,YAAtD;AACA,UAAMqE,WAAW,GAAGF,OAAO,IAAI7B,KAAX,GAAmB,CAAnB,GAAuB0B,SAAS,GAAGhE,YAAvD;AACA,UAAMsE,KAAK,GAAG,EAAd;;AACA,SAAK,IAAIC,CAAC,GAAGP,SAAb,EAAwBO,CAAC,IAAIN,IAAI,CAACO,GAAL,CAASL,OAAT,EAAkB7B,KAAlB,CAA7B,EAAuDiC,CAAC,IAAI,CAA5D,EAA+D;AAC7DrE,YAAM,CAACI,GAAP,CAAW,MAAX,EAAmBiE,CAAnB;AACAD,WAAK,CAACT,IAAN,eACE,2DAAC,QAAD;AAAU,WAAG,EAAEU,CAAf;AAAkB,cAAM,EAAErE,MAA1B;AAAkC,kBAAU,EAAEC,IAA9C;AAAoD,YAAI,EAAEoE;AAA1D,sBACE,2DAAC,0DAAD,CAAY,IAAZ,QAAkBA,CAAlB,CADF,CADF;AAKD;;AAED,wBACE,2DAAC,4CAAD,CAAO,QAAP,qBACE,2DAAC,qDAAD,qBACE,2DAAC,qDAAD,CAAO,OAAP,qBACE,2DAAC,qDAAD,CAAO,KAAP;AAAa,YAAM;AAAnB,gBADF,CADF,eAIE,2DAAC,qDAAD,CAAO,IAAP;AAAY,iBAAW;AAAvB,oBACE,2DAAC,wDAAD;AAAa,aAAO,EAAC;AAArB,MADF,CAJF,CADF,eASE,2DAAC,uDAAD;AACE,YAAM,EAAElC,MADV;AAEE,gBAAU,EAAE,KAAKI,UAFnB;AAGE,iBAAW,EAAE,KAAKE;AAHpB,MATF,eAcE,2DAAC,wDAAD;AAAa,WAAK,EAAEJ;AAApB,MAdF,eAeE,2DAAC,0DAAD,qBACE,2DAAC,QAAD;AAAU,YAAM,EAAErC,MAAlB;AAA0B,UAAI,EAAEkE;AAAhC,oBACE,2DAAC,0DAAD,CAAY,IAAZ,QAAkB,GAAlB,CADF,CADF,EAIGE,KAJH,eAKE,2DAAC,QAAD;AAAU,YAAM,EAAEpE,MAAlB;AAA0B,UAAI,EAAEmE;AAAhC,oBACE,2DAAC,0DAAD,CAAY,IAAZ,QAAkB,GAAlB,CADF,CALF,CAfF,CADF;AA2BD;;AA/LqC;;AAkMxC,MAAMI,kBAAkB,GAAGC,8DAAS,CAAC9D,SAAD,CAApC;AACA6D,kBAAkB,CAAC3D,SAAnB,GAA+BF,SAAS,CAACE,SAAzC;AACe2D,iFAAf,E;;;;;;;;;;;;ACnOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAIA,MAAME,QAAQ,GAAGC,mEAAU,CAAC,CAAC;AAC3B9E,OAD2B;AAE3BkD,UAAQ,EAAE;AAAEtC;AAAF,GAFiB;AAG3B+B,YAH2B;AAI3BY,OAJ2B;AAK3BV;AAL2B,CAAD,KAMtB;AACJ,QAAMkC,cAAc,GAAG;AAAEpB,YAAQ,EAAG,WAAU3D,KAAK,CAAC8B,EAAG,EAAhC;AAAmClB;AAAnC,GAAvB;AACA,QAAMoE,WAAW,gBACf,2DAAC,uDAAD;AAAS,MAAE,EAAC,eAAZ;AAA4B,aAAS,EAAC;AAAtC,kBADF;AAGA,QAAMC,YAAY,gBAChB,2DAAC,uDAAD;AAAS,MAAE,EAAC,eAAZ;AAA4B,aAAS,EAAC;AAAtC,mBADF;AAGA,QAAMC,aAAa,gBACjB,2DAAC,uDAAD;AAAS,MAAE,EAAC,gBAAZ;AAA6B,aAAS,EAAC;AAAvC,oBADF;;AAIA,WAASC,OAAT,CAAiBC,CAAjB,EAAoB;AAClBA,KAAC,CAACC,cAAF;AACA1C,cAAU,CAACY,KAAD,CAAV;AACD;;AACD,WAAS+B,QAAT,CAAkBF,CAAlB,EAAqB;AACnBA,KAAC,CAACC,cAAF;AACAxC,eAAW,CAACU,KAAD,CAAX;AACD;;AAED,QAAMgC,QAAQ,gBACZ,oFACE,uEAAKvF,KAAK,CAAC8B,EAAX,CADF,eAEE,uEAAK9B,KAAK,CAACwB,MAAX,CAFF,eAGE,uEAAKxB,KAAK,CAACwF,KAAX,CAHF,eAIE,uEAAKxF,KAAK,CAACyF,OAAN,CAAcC,YAAd,EAAL,CAJF,eAKE,uEAAK1F,KAAK,CAAC2F,MAAX,CALF,eAME,uEAAK3F,KAAK,CAAC4F,GAAN,GAAY5F,KAAK,CAAC4F,GAAN,CAAUF,YAAV,EAAZ,GAAuC,EAA5C,CANF,eAOE,uEAAK1F,KAAK,CAAC6F,KAAX,CAPF,eASE,oFACE,2DAAC,oEAAD;AAAe,MAAE,EAAG,SAAQ7F,KAAK,CAAC8B,EAAG;AAArC,kBACE,2DAAC,8DAAD;AAAgB,aAAS,EAAE,IAA3B;AAAiC,WAAO,EAAEkD;AAA1C,kBACE,2DAAC,sDAAD;AAAQ,UAAM,EAAC;AAAf,kBACE,2DAAC,yDAAD;AAAW,SAAK,EAAC;AAAjB,IADF,CADF,CADF,CADF,EAQG,GARH,eASE,2DAAC,8DAAD;AAAgB,aAAS,EAAE,IAA3B;AAAiC,WAAO,EAAEC;AAA1C,kBACE,2DAAC,sDAAD;AAAQ,UAAM,EAAC,QAAf;AAAwB,WAAO,EAAEE;AAAjC,kBACE,2DAAC,yDAAD;AAAW,SAAK,EAAC;AAAjB,IADF,CADF,CATF,EAcG,GAdH,eAeE,2DAAC,8DAAD;AAAgB,aAAS,EAAE,IAA3B;AAAiC,WAAO,EAAED;AAA1C,kBACE,2DAAC,sDAAD;AAAQ,UAAM,EAAC,QAAf;AAAwB,WAAO,EAAEI;AAAjC,kBACE,2DAAC,yDAAD;AAAW,SAAK,EAAC;AAAjB,IADF,CADF,CAfF,CATF,CADF;AAiCA,sBACE,2DAAC,oEAAD;AAAe,MAAE,EAAEP;AAAnB,KACGQ,QADH,CADF;AAKD,CAjE0B,CAA3B;AAmEe,SAASO,UAAT,CAAoB;AAAEvD,QAAF;AAAUI,YAAV;AAAsBE;AAAtB,CAApB,EAAyD;AACtE,QAAMkD,SAAS,GAAGxD,MAAM,CAACyD,GAAP,CAAW,CAAChG,KAAD,EAAQuD,KAAR,kBAC3B,2DAAC,QAAD;AACE,OAAG,EAAEvD,KAAK,CAAC8B,EADb;AAEE,SAAK,EAAE9B,KAFT;AAGE,cAAU,EAAE2C,UAHd;AAIE,SAAK,EAAEY,KAJT;AAKE,eAAW,EAAEV;AALf,IADgB,CAAlB;AAUA,sBACE,2DAAC,qDAAD;AAAO,YAAQ,MAAf;AAAgB,aAAS,MAAzB;AAA0B,SAAK,MAA/B;AAAgC,cAAU;AAA1C,kBACE,uFACE,oFACE,4EADF,eAEE,gFAFF,eAGE,+EAHF,eAIE,iFAJF,eAKE,gFALF,eAME,kFANF,eAOE,+EAPF,eAQE,gFARF,CADF,CADF,eAaE,0EACGkD,SADH,CAbF,CADF;AAmBD,C","file":"server.c07f86be3c997d55bf47.hot-update.js","sourcesContent":["/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\n\r\nexport default function IssueDetail({ issue }) {\r\n  if (issue) {\r\n    return (\r\n      <div>\r\n        <h3>Description</h3>\r\n        <pre>{issue.description}</pre>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n}\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\n\r\nimport React from 'react';\r\nimport URLSearchParams from 'url-search-params';\r\nimport { Panel, Pagination, Butt } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nimport IssueFilter from './IssueFilter.jsx';\r\nimport IssueTable from './IssueTable.jsx';\r\nimport IssueDetail from './IssueDetail.jsx';\r\nimport graphQLFetch from './graphQLFetch.js';\r\nimport withToast from './withToast.jsx';\r\nimport store from './store.js';\r\n\r\nconst SECTION_SIZE = 5;\r\n\r\nfunction PageLink({\r\n  params, page, activePage, children,\r\n}) {\r\n  params.set('page', page);\r\n  if (page === 0) return React.cloneElement(children, { disabled: true });\r\n  return (\r\n    <LinkContainer\r\n      isActive={() => page === activePage}\r\n      to={{ search: `?${params.toString()}` }}\r\n    >\r\n      {children}\r\n    </LinkContainer>\r\n  );\r\n}\r\n\r\nclass IssueList extends React.Component {\r\n  static async fetchData(match, search, showError) {\r\n    const params = new URLSearchParams(search);\r\n    const vars = { hasSelection: false, selectedId: 0 };\r\n    if (params.get('status')) vars.status = params.get('status');\r\n\r\n    const effortMin = parseInt(params.get('effortMin'), 10);\r\n    if (!Number.isNaN(effortMin)) vars.effortMin = effortMin;\r\n    const effortMax = parseInt(params.get('effortMax'), 10);\r\n    if (!Number.isNaN(effortMax)) vars.effortMax = effortMax;\r\n\r\n    const { params: { id } } = match;\r\n    const idInt = parseInt(id, 10);\r\n    if (!Number.isNaN(idInt)) {\r\n      vars.hasSelection = true;\r\n      vars.selectedId = idInt;\r\n    }\r\n\r\n    let page = parseInt(params.get('page'), 10);\r\n    if (Number.isNaN(page)) page = 1;\r\n    vars.page = page;\r\n\r\n    const query = `query issueList(\r\n      $status: StatusType\r\n      $effortMin: Int\r\n      $effortMax: Int\r\n      $hasSelection: Boolean!\r\n      $selectedId: Int!\r\n      $page: Int\r\n    ) {\r\n      issueList(\r\n        status: $status\r\n        effortMin: $effortMin\r\n        effortMax: $effortMax\r\n        page: $page\r\n      ) {\r\n        issues{\r\n        id title status owner\r\n        created effort due\r\n      }\r\n      pages\r\n      }\r\n      issue(id: $selectedId) @include (if : $hasSelection) {\r\n        id description\r\n      }\r\n    }`;\r\n\r\n    const data = await graphQLFetch(query, vars, showError);\r\n    return data;\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n    const initialData = store.initialData || { issueList: {} };\r\n    const {\r\n      issueList: { issues, pages }, issue: selectedIssue,\r\n    } = initialData;\r\n    delete store.initialData;\r\n    this.state = {\r\n      issues,\r\n      selectedIssue,\r\n      pages,\r\n    };\r\n    this.closeIssue = this.closeIssue.bind(this);\r\n    this.deleteIssue = this.deleteIssue.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { issues } = this.state;\r\n    if (issues == null) this.loadData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const {\r\n      location: { search: prevSearch },\r\n      match: { params: { id: prevId } },\r\n    } = prevProps;\r\n    const { location: { search }, match: { params: { id } } } = this.props;\r\n    if (prevSearch !== search || prevId !== id) {\r\n      this.loadData();\r\n    }\r\n  }\r\n\r\n  async loadData() {\r\n    const { location: { search }, match, showError } = this.props;\r\n    const data = await IssueList.fetchData(match, search, showError);\r\n    if (data) {\r\n      this.setState({\r\n        issues: data.issueList.issues,\r\n        selectedIssue: data.issue,\r\n        pages: data.issueList.pages,\r\n      });\r\n    }\r\n  }\r\n\r\n  async closeIssue(index) {\r\n    const query = `mutation issueClose($id: Int!) {\r\n      issueUpdate(id: $id, changes: { status: Closed }) {\r\n        id title status owner\r\n        effort created due description\r\n      }\r\n    }`;\r\n    const { issues } = this.state;\r\n    const { showError } = this.props;\r\n    const data = await graphQLFetch(query, { id: issues[index].id },\r\n      showError);\r\n    if (data) {\r\n      this.setState((prevState) => {\r\n        const newList = [...prevState.issues];\r\n        newList[index] = data.issueUpdate;\r\n        return { issues: newList };\r\n      });\r\n    } else {\r\n      this.loadData();\r\n    }\r\n  }\r\n\r\n  async deleteIssue(index) {\r\n    const query = `mutation issueDelete($id: Int!) {\r\n      issueDelete(id: $id)\r\n    }`;\r\n    const { issues } = this.state;\r\n    const { location: { pathname, search }, history } = this.props;\r\n    const { showSuccess, showError } = this.props;\r\n    const { id } = issues[index];\r\n    const data = await graphQLFetch(query, { id }, showError);\r\n    if (data && data.issueDelete) {\r\n      this.setState((prevState) => {\r\n        const newList = [...prevState.issues];\r\n        if (pathname === `/issues/${id}`) {\r\n          history.push({ pathname: '/issues', search });\r\n        }\r\n        newList.splice(index, 1);\r\n        return { issues: newList };\r\n      });\r\n      showSuccess(`Deleted issue ${id} successfully.`);\r\n    } else {\r\n      this.loadData();\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    const { issues } = this.state;\r\n    if (issues == null) return null;\r\n    const { selectedIssue, pages } = this.state;\r\n    const { location: { search } } = this.props;\r\n    const params = new URLSearchParams(search);\r\n    let page = parseInt(params.get('page'), 10);\r\n    if (Number.isNaN(page)) page = 1;\r\n    const startPage = Math.floor((page - 1) / SECTION_SIZE) * SECTION_SIZE + 1;\r\n    const endPage = startPage + SECTION_SIZE - 1;\r\n    const prevSection = startPage === 1 ? 0 : startPage - SECTION_SIZE;\r\n    const nextSection = endPage >= pages ? 0 : startPage + SECTION_SIZE;\r\n    const items = [];\r\n    for (let i = startPage; i <= Math.min(endPage, pages); i += 1) {\r\n      params.set('page', i);\r\n      items.push((\r\n        <PageLink key={i} params={params} activePage={page} page={i}>\r\n          <Pagination.Item>{i}</Pagination.Item>\r\n        </PageLink>\r\n      ));\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Panel>\r\n          <Panel.Heading>\r\n            <Panel.Title toggle>Filter</Panel.Title>\r\n          </Panel.Heading>\r\n          <Panel.Body collapsible>\r\n            <IssueFilter urlBase=\"/issues\" />\r\n          </Panel.Body>\r\n        </Panel>\r\n        <IssueTable\r\n          issues={issues}\r\n          closeIssue={this.closeIssue}\r\n          deleteIssue={this.deleteIssue}\r\n        />\r\n        <IssueDetail issue={selectedIssue} />\r\n        <Pagination>\r\n          <PageLink params={params} page={prevSection}>\r\n            <Pagination.Item>{'<'}</Pagination.Item>\r\n          </PageLink>\r\n          {items}\r\n          <PageLink params={params} page={nextSection}>\r\n            <Pagination.Item>{'>'}</Pagination.Item>\r\n          </PageLink>\r\n        </Pagination>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst IssueListWithToast = withToast(IssueList);\r\nIssueListWithToast.fetchData = IssueList.fetchData;\r\nexport default IssueListWithToast;\r\n","/* eslint linebreak-style: [\"error\", \"windows\"] */\r\nimport React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport {\r\n  Button, Glyphicon, Tooltip, OverlayTrigger, Table,\r\n} from 'react-bootstrap';\r\n\r\nconst IssueRow = withRouter(({\r\n  issue,\r\n  location: { search },\r\n  closeIssue,\r\n  index,\r\n  deleteIssue,\r\n}) => {\r\n  const selectLocation = { pathname: `/issues/${issue.id}`, search };\r\n  const editTooltip = (\r\n    <Tooltip id=\"close-tooltip\" placement=\"top\">Edit Issue</Tooltip>\r\n  );\r\n  const closeTooltip = (\r\n    <Tooltip id=\"close-tooltip\" placement=\"top\">Close Issue</Tooltip>\r\n  );\r\n  const deleteTooltip = (\r\n    <Tooltip id=\"delete-tooltip\" placement=\"top\">Delete Issue</Tooltip>\r\n  );\r\n\r\n  function onClose(e) {\r\n    e.preventDefault();\r\n    closeIssue(index);\r\n  }\r\n  function onDelete(e) {\r\n    e.preventDefault();\r\n    deleteIssue(index);\r\n  }\r\n\r\n  const tableRow = (\r\n    <tr>\r\n      <td>{issue.id}</td>\r\n      <td>{issue.status}</td>\r\n      <td>{issue.owner}</td>\r\n      <td>{issue.created.toDateString()}</td>\r\n      <td>{issue.effort}</td>\r\n      <td>{issue.due ? issue.due.toDateString() : ''}</td>\r\n      <td>{issue.title}</td>\r\n      {/* <td><a href={`/#/edit/${issue.id}`}>Edit</a></td> */}\r\n      <td>\r\n        <LinkContainer to={`/edit/${issue.id}`}>\r\n          <OverlayTrigger delayShow={1000} overlay={editTooltip}>\r\n            <Button bsSize=\"xsmall\">\r\n              <Glyphicon glyph=\"edit\" />\r\n            </Button>\r\n          </OverlayTrigger>\r\n        </LinkContainer>\r\n        {' '}\r\n        <OverlayTrigger delayShow={1000} overlay={closeTooltip}>\r\n          <Button bsSize=\"xsmall\" onClick={onClose}>\r\n            <Glyphicon glyph=\"remove\" />\r\n          </Button>\r\n        </OverlayTrigger>\r\n        {' '}\r\n        <OverlayTrigger delayShow={1000} overlay={deleteTooltip}>\r\n          <Button bsSize=\"xsmall\" onClick={onDelete}>\r\n            <Glyphicon glyph=\"trash\" />\r\n          </Button>\r\n        </OverlayTrigger>\r\n      </td>\r\n    </tr>\r\n  );\r\n  return (\r\n    <LinkContainer to={selectLocation}>\r\n      {tableRow}\r\n    </LinkContainer>\r\n  );\r\n});\r\n\r\nexport default function IssueTable({ issues, closeIssue, deleteIssue }) {\r\n  const issueRows = issues.map((issue, index) => (\r\n    <IssueRow\r\n      key={issue.id}\r\n      issue={issue}\r\n      closeIssue={closeIssue}\r\n      index={index}\r\n      deleteIssue={deleteIssue}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <Table bordered condensed hover responsive>\r\n      <thead>\r\n        <tr>\r\n          <th>ID</th>\r\n          <th>Status</th>\r\n          <th>Owner</th>\r\n          <th>Created</th>\r\n          <th>Effort</th>\r\n          <th>Due Date</th>\r\n          <th>Title</th>\r\n          <th>Action</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {issueRows}\r\n      </tbody>\r\n    </Table>\r\n  );\r\n}\r\n"],"sourceRoot":""}